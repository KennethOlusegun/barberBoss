<ion-content [fullscreen]="true" class="login-content">
  <div class="login-container">
    <!-- Logo e Header Premium -->
    <div class="header-section">
      <div class="logo-container">
        <mat-icon class="logo-icon">content_cut</mat-icon>
      </div>
      <h1 class="app-title">BarberBoss</h1>
      <p class="app-subtitle">Gerencie seu salão com facilidade</p>
    </div>

    <!-- Formulário de Login -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <!-- Campo de Email -->
      <div class="form-group">
        <div 
          class="input-wrapper"
          [class.input-wrapper--invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
          [class.input-wrapper--focused]="emailFocused"
        >
          <mat-icon class="input-icon">mail_outline</mat-icon>
          <input
            class="input-field"
            formControlName="email"
            type="email"
            placeholder="E-mail"
            autocomplete="email"
            (focus)="emailFocused = true"
            (blur)="emailFocused = false"
          />
        </div>
        <div
          class="error-message"
          *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
        >
          {{ getErrorMessage('email') }}
        </div>
      </div>

      <!-- Campo de Senha -->
      <div class="form-group">
        <div 
          class="input-wrapper"
          [class.input-wrapper--invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
          [class.input-wrapper--focused]="passwordFocused"
        >
          <mat-icon class="input-icon">lock_outline</mat-icon>
          <input
            class="input-field input-field--password"
            formControlName="password"
            [type]="showPassword ? 'text' : 'password'"
            placeholder="Senha"
            autocomplete="current-password"
            (focus)="passwordFocused = true"
            (blur)="passwordFocused = false"
          />
          <button
            type="button"
            class="eye-icon-btn"
            (click)="togglePasswordVisibility()"
            (mousedown)="$event.preventDefault()"
            tabindex="-1"
          >
            <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
        </div>
        <div
          class="error-message"
          *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
        >
          {{ getErrorMessage('password') }}
        </div>
      </div>

      <!-- Link Esqueci a Senha -->
      <div class="forgot-password-section">
        <button
          type="button"
          class="forgot-password-btn"
          (click)="goToForgotPassword()"
        >
          Esqueceu a senha?
        </button>
      </div>

      <!-- Mensagem de Erro -->
      <div *ngIf="errorMessage" class="error-alert">
        <div class="error-box">
          <mat-icon>error_outline</mat-icon>
          <span>{{ errorMessage }}</span>
        </div>
      </div>

      <!-- Botão de Login -->
      <button
        type="submit"
        class="login-btn"
        [disabled]="isLoading"
      >
        <span *ngIf="!isLoading">Entrar</span>
        <span *ngIf="isLoading">Carregando...</span>
      </button>

      <!-- Divider -->
      <div class="divider">
        <span class="divider-text">ou</span>
      </div>

      <!-- Botão de Registro -->
      <button
        type="button"
        class="register-btn"
        (click)="goToRegister()"
        [disabled]="isLoading"
      >
        Criar uma conta
      </button>
    </form>

    <!-- Footer -->
    <div class="footer-section">
      <p class="footer-text">
        Ao continuar, você concorda com nossos
        <a href="#" class="footer-link" (click)="$event.preventDefault()">Termos de Uso</a>
        e
        <a href="#" class="footer-link" (click)="$event.preventDefault()">Política de Privacidade</a>
      </p>
    </div>
  </div>
</ion-content>